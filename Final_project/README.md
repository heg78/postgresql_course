# Рвзработка БД для хранение котировок с автовалидацией 
## Описание
БД предназначена для хранения котировок финансовых инструментов, с минимальной валидацией данных. Модель должна предусматривать специфичность запросов к бд и обеспечивать приемлемую производительность.  
## Требования
* Хранение котировок различных инструментов за любой период;
* Защита от дублирования данных;
* Пропущенные периоды должны отражаться в БД, должна быть возможность собрать статистику по ним;
* Получение данных за произвольный период по произвольному инструменту;
* Получение агрегированных данных по произвольному количеству инструментов с минимальным количеством джойнов;
# Реализация
## Описание
В связи со спецификой запросов к БД (много агрегатных запросов по инструментам, например, максимальное стандартное отклонение по всем инструментам) для упрощения написания аналитических запросов и повышения быстродействия решено отказаться от традиционного хранения (каждый инструмент в отдельной таблице). Данные по всем инструментам будут хранится в одной таблице - таймфрейме. Цетральный таймфрейм - дневной (D), могут быть и дугие: минутный, часовой, недельный и т.п. (M1, H1, W соответственно).

Защита от повторной загрузки реализована с помощью простого констрейнта: дата+инструмент

Для контроля разрывов/пропусков в данных созданы таблицы с эталонным вектором времени для каждого таймфрема

## Таблицы
### securities
### quotes_d
### period_d
